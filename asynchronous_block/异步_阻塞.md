# 1.同步和异步

- 只有使用了特殊API的才是异步IO

- EPOLL/Select/poll都是同步

- 只有是系统帮我们把数据从内核返回通知我们去取的才是异步的

# 2. Unix/Linx 5种 I/O 模型

1. blocking

2. non-blcoking
    - 通过 setsockopt 改变 cfd 的属性为非阻塞
    - 没有新数据的时候不再阻塞
    - 但是读到空会返回不同的信号：
        - EAGAIN
        - EINTR
        - AGAIN
    - 并且在读取的时候还需要自己从内核把缓冲区的数据搬出来，阻塞在这里


3. IO multiplexing  (IO复用)
    - 通过select/poll/epoll 的系统调用，让内核帮我们监听
    - 当监听的fd变化，返回可读的fd
    - __主要效果是让单线程可以检测多个fd，减少了线程与进程的开销__


4. signal-driven    (信号驱动)

    - 大概是注册 SIGACTION 来返回变化的fd
    - 但是在read的时候还是同步的阻塞的 

5. asynchronous     (异步)

    - unix中，可以调用aio_read 函数，告诉内核秒速灌丛去指针，和缓冲区大小、文件便宜及通知的方式，然后立刻返回
    - 由内核帮我们进行拷贝数据到缓存区
    - 通过注册的通知方式来提醒
    - 这是我们只需要使用已经装好数据的缓冲区就可以了
    - 大大提升了效率